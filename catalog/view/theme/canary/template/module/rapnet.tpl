<div class="filter-box clearfix">
    <div class="filter-wrapper clearfix thumbnail">
        <div class="wrapper-filter-close">
            <div class="filter-row">
                <div class="filter-col filter-diamond-left">
                    <div class="filter-col-title">shape</div>
                    <div class="filter-col-options">
                        <div class="btn-group-filter w-group-shape box-color gemstones-box rings-box" data-toggle="buttons">

                            <div class="all-line-filter">
                                <a href="#" class="active">All</a>
                            </div>
                            <label class="btn btn-filter brackets">
                                <input type="radio" value="Round" name="shape" id="option1" autocomplete="off" checked>
                                <i class="brilliant-ico2 brilliant-s1"></i>
                                <span>Round<br><span>Cut</span></span>
                            </label>
                            <label class="btn btn-filter brackets">
                                <input type="radio" value="Princess" name="shape" id="option2" autocomplete="off">
                                <i class="brilliant-ico2 brilliant-s2"></i>
                                <span>Princess<br><span>Cut</span></span>
                            </label>
                            <label class="btn btn-filter brackets">
                                <input type="radio" value="Asscher"  name="shape" id="option3" autocomplete="off">
                                <i class="brilliant-ico2 brilliant-s3"></i>
                                <span>Asscher<br><span>Cut</span></span>
                            </label>
                            <label class="btn btn-filter brackets">
                                <input type="radio" value="Cushion"  name="shape" id="option4" autocomplete="off">
                                <i class="brilliant-ico2 brilliant-s4"></i>
                                <span>Cushion<br><span>Cut</span></span>
                            </label>
                            <label class="btn btn-filter brackets">
                                <input type="radio" value="Marquise" name="shape" id="option5" autocomplete="off">
                                <i class="brilliant-ico2 brilliant-s5"></i>
                                <span>Marquise<br><span>Cut</span></span>
                            </label>
                            <label class="btn btn-filter brackets">
                                <input type="radio" value="Oval"  name="shape" id="option6" autocomplete="off">
                                <i class="brilliant-ico2 brilliant-s6"></i>
                                <span>Oval<br><span>Cut</span></span>
                            </label>
                            <label class="btn btn-filter brackets">
                                <input type="radio" value="Radiant" name="shape" id="option7" autocomplete="off">
                                <i class="brilliant-ico2 brilliant-s7"></i>
                                <span>Radiant<br><span>Cut</span></span>
                            </label>
                            <label class="btn btn-filter brackets">
                                <input type="radio" value="Pear"  name="shape" id="option8" autocomplete="off">
                                <i class="brilliant-ico2 brilliant-s8"></i>
                                <span>Pear<br><span>Shaped</span></span>
                            </label>
                            <label class="btn btn-filter brackets">
                                <input type="radio" value="Heart"  name="shape" id="option9" autocomplete="off">
                                <i class="brilliant-ico2 brilliant-s9"></i>
                                <span>Heart<br><span>Shaped</span></span>
                            </label>
                            <label class="btn btn-filter brackets">
                                <input type="radio" value="Emerald"  name="shape" id="option10" autocomplete="off">
                                <i class="brilliant-ico2 brilliant-s10"></i>
                                <span>Emerald<br><span>Cut</span></span>
                            </label>

                        </div>
                    </div>
                </div>
                <div class="filter-col filter-diamond-right">
                    <div class="filter-col-title">cut</div>
                    <div class="filter-col-options">
                        <div class="filter-block filter1">
                            <div id="w-slider-cut"></div>
                            <div class="wrapper-table">
                                <ul class="slider-lables">
                                    <li title="slightly colored">Fair</li>
                                    <li title="near colorless">Good</li>
                                    <li title="near colorless">Very Good</li>
                                    <li title="near colorless">Excellent</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-col filter-diamond-left">
                    <div class="filter-col-title">color</div>
                    <div class="filter-col-options">
                        <div class="filter-block filter1">
                            <div id="w-slider-color"></div>
                            <div class="wrapper-table">
                                <ul class="slider-lables">
                                    <li title="slightly colored">M</li>
                                    <li title="near colorless">L</li>

                                    <li title="near colorless">K</li>
                                    <li title="near colorless">J</li>
                                    <li title="near colorless">I</li>
                                    <li title="near colorless">H</li>
                                    <li title="near colorless">G</li>
                                    <li title="colorless">F</li>
                                    <li title="colorless">E</li>
                                    <li title="colorless">D</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="filter-col filter-diamond-right">
                    <div class="filter-col-title">carat</div>
                    <div class="filter-col-options">
                        <div class="filter-block filter1">
                            <div class="clearfix">
                                <input type="text" id="amountCarat1" class="input-slider-p pull-left w-input-carat-from">
                                <input type="text" id="amountCarat2" class="input-slider-p pull-right w-input-carat-to">
                            </div>
                            <div id="w-slider-carat"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-col filter-diamond-left">
                    <div class="filter-col-title">clarity</div>
                    <div class="filter-col-options">
                        <div class="filter-block filter1">
                            <div id="w-slider-clarity"></div>
                            <div class="wrapper-table">
                                <ul class="slider-lables">
                                    <li title="slightly colored">I1</li>
                                    <li title="near colorless">SI2</li>
                                    <li title="near colorless">SI1</li>
                                    <li title="near colorless">VS2</li>
                                    <li title="near colorless">VS1</li>
                                    <li title="colorless">VVS2</li>
                                    <li title="colorless">VVS1</li>
                                    <li title="colorless">IF</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="filter-col filter-diamond-right">
                    <div class="filter-col-title">price</div>
                    <div class="filter-col-options">
                        <div class="filter-block filter1">
                            <div class="clearfix">
                                <input type="text" id="amountPrice1" class="input-slider-p pull-left w-input-price-from">
                                <input type="text" id="amountPrice2" class="input-slider-p pull-right w-input-price-to">
                            </div>
                            <div id="w-slider-price"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="functional-filter filter-buttons clearix">

            <ul class="hidden-xs filter-options-type">
                <li><a href="#" class="active">Main Options</a></li>
                <li>


                    <div class="filter-advanced-wrapper">
                        <button class="filter-advanced">Advanced options</button>
                        <div class="dropdown-advanced">
                            <ul>
                                <li data-target="polish-slider" data-toggle="tooltip" data-placement="left" title="Polish refers to the degree of smoothness of each facet of a diamond as measured by a gemologist.">
                                    Polish
                                    <div class="filter-block filter1 filter-drop-drop">
                                        <div class="wrapper-filter-drop">
                                            <div id="w-slider-polish"></div>
                                            <div class="wrapper-table">
                                                <ul class="slider-lables">
                                                    <li title="colorless">Fair</li>
                                                    <li title="colored">Good</li>
                                                    <li title="colorless">Very Good</li>
                                                    <li title="colorless">Excellent</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li data-target="symmetry-slider" data-toggle="tooltip" data-placement="left" title="Symmetry refers to how precisely the various facets of a diamond align and intersect.">
                                    Symmetry
                                    <div class="filter-block filter1 filter-drop-drop">
                                        <div class="wrapper-filter-drop">
                                            <div id="w-slider-symmetry"></div>
                                            <div class="wrapper-table">
                                                <ul class="slider-lables">
                                                    <li title="colorless">Fair</li>
                                                    <li title="colored">Good</li>
                                                    <li title="colorless">Very Good</li>
                                                    <li title="colorless">Excellent</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <!--*<li data-toggle="tooltip" data-placement="left" title="Laboratory diamond">*-->
                                <!--*lab*-->
                                <!--*<div class="btn-group btn-group-justified btn-group-filter filter-drop-drop w-group-labs"  data-toggle="buttons">*-->
                                <!--*<div class="btn btn-filter">*-->
                                <!--*<input type="checkbox" name="labs" value="GIA"> GIA*-->
                                <!--*</div>*-->
                                <!--*<div class="btn btn-filter">*-->
                                <!--*<input type="checkbox" name="labs" value="IGI"> IGI*-->
                                <!--*</div>*-->
                                <!--*<div class="btn btn-filter">*-->
                                <!--*<input type="checkbox" name="labs" value="AGS"> AGS*-->
                                <!--*</div>*-->
                                <!--*<div class="btn btn-filter">*-->
                                <!--*<input type="checkbox" name="labs" value="HRD"> HRD*-->
                                <!--*</div>*-->
                                <!--*<div class="btn btn-filter">*-->
                                <!--*<input type="checkbox" name="labs" value="EGL_USA"> EGL_USA*-->
                                <!--*</div>*-->
                                <!--*</div>*-->
                                <!--*</li>*-->
                                <li data-target="depth-slider" data-toggle="tooltip" data-placement="left" title="Depth refers to the distance between the culet and the table when the diamond is viewed from the side.">
                                    Depth
                                    <div class="filter-block filter1 filter-drop-drop">
                                        <div class="wrapper-filter-drop">
                                            <div class="clearfix">
                                                <input type="text" id="depth1" class="input-slider-p pull-left w-input-depth-from">
                                                <input type="text" id="depth2" class="input-slider-p pull-right w-input-depth-to">
                                            </div>
                                            <div id="w-slider-depth"></div>
                                        </div>
                                    </div>
                                </li>
                                <li data-target="table-slider" data-toggle="tooltip" data-placement="left" title="The table is the uppermost, flat surface of a diamond which runs parallel to the plane of the girdle.">
                                    Table
                                    <div class="filter-block filter1 filter-drop-drop">
                                        <div class="wrapper-filter-drop">
                                            <div class="clearfix">
                                                <input type="text" id="table1" class="input-slider-p pull-left w-input-table-from">
                                                <input type="text" id="table2" class="input-slider-p pull-right w-input-table-to">
                                            </div>
                                            <div id="w-slider-table"></div>
                                        </div>
                                    </div>
                                </li>
                                <li data-toggle="tooltip" data-placement="left" title="Fluorescence refers to a diamond's tendency to emit a soft colored glow when subjected to ultraviolet light (such as a `black light`).">
                                    Fluorescence
                                    <div class="btn-group btn-group-justified btn-group-filter filter-drop-drop w-group-fluorescence-intensities" data-toggle="buttons">
                                        <div class="btn btn-filter">
                                            <input type="checkbox" name="fluorescence_intensities" value="Very Strong"> Very strong
                                        </div>
                                        <div class="btn btn-filter">
                                            <input type="checkbox" name="fluorescence_intensities" value="Strong"> Strong
                                        </div>
                                        <div class="btn btn-filter">
                                            <input type="checkbox" name="fluorescence_intensities" value="Slight"> Slight
                                        </div>
                                        <div class="btn btn-filter">
                                            <input type="checkbox" name="fluorescence_intensities" value="Medium"> Medium
                                        </div>
                                        <div class="btn btn-filter">
                                            <input type="checkbox" name="fluorescence_intensities" value="Faint"> Faint
                                        </div>
                                        <div class="btn btn-filter">
                                            <input type="checkbox" name="fluorescence_intensities" value="Very Slight"> Very slight
                                        </div>
                                        <div class="btn btn-filter">
                                            <input type="checkbox" name="fluorescence_intensities" value="None"> None
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>


                </li>
                <li><a href="#">Other Options</a></li>
            </ul>

            <div class="clearfix hide">
                <div class="filter-advanced-wrapper pull-left">
                    <button class="filter-advanced">advanced options</button>
                    <div class="dropdown-advanced">
                        <ul>
                            <li data-target="polish-slider" data-toggle="tooltip" data-placement="left" title="Polish refers to the degree of smoothness of each facet of a diamond as measured by a gemologist.">
                                polish
                                <div class="filter-block filter1 filter-drop-drop">
                                    <div class="wrapper-filter-drop">
                                        <div id="w-slider-polish"></div>
                                        <div class="wrapper-table">
                                            <ul class="slider-lables">
                                                <li title="colorless">Fair</li>
                                                <li title="colored">Good</li>
                                                <li title="colorless">Very Good</li>
                                                <li title="colorless">Excellent</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li data-target="symmetry-slider" data-toggle="tooltip" data-placement="left" title="Symmetry refers to how precisely the various facets of a diamond align and intersect.">
                                symmetry
                                <div class="filter-block filter1 filter-drop-drop">
                                    <div class="wrapper-filter-drop">
                                        <div id="w-slider-symmetry"></div>
                                        <div class="wrapper-table">
                                            <ul class="slider-lables">
                                                <li title="colorless">Fair</li>
                                                <li title="colored">Good</li>
                                                <li title="colorless">Very Good</li>
                                                <li title="colorless">Excellent</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <!--*<li data-toggle="tooltip" data-placement="left" title="Laboratory diamond">*-->
                            <!--*lab*-->
                            <!--*<div class="btn-group btn-group-justified btn-group-filter filter-drop-drop w-group-labs"  data-toggle="buttons">*-->
                            <!--*<div class="btn btn-filter">*-->
                            <!--*<input type="checkbox" name="labs" value="GIA"> GIA*-->
                            <!--*</div>*-->
                            <!--*<div class="btn btn-filter">*-->
                            <!--*<input type="checkbox" name="labs" value="IGI"> IGI*-->
                            <!--*</div>*-->
                            <!--*<div class="btn btn-filter">*-->
                            <!--*<input type="checkbox" name="labs" value="AGS"> AGS*-->
                            <!--*</div>*-->
                            <!--*<div class="btn btn-filter">*-->
                            <!--*<input type="checkbox" name="labs" value="HRD"> HRD*-->
                            <!--*</div>*-->
                            <!--*<div class="btn btn-filter">*-->
                            <!--*<input type="checkbox" name="labs" value="EGL_USA"> EGL_USA*-->
                            <!--*</div>*-->
                            <!--*</div>*-->
                            <!--*</li>*-->
                            <li data-target="depth-slider" data-toggle="tooltip" data-placement="left" title="Depth refers to the distance between the culet and the table when the diamond is viewed from the side.">
                                depth
                                <div class="filter-block filter1 filter-drop-drop">
                                    <div class="wrapper-filter-drop">
                                        <div id="w-slider-depth"></div>
                                        <div class="clearfix">
                                            <input type="text" id="depth1" class="input-slider-p pull-left w-input-depth-from">
                                            <input type="text" id="depth2" class="input-slider-p pull-right w-input-depth-to">
                                        </div>

                                    </div>
                                </div>
                            </li>
                            <li data-target="table-slider" data-toggle="tooltip" data-placement="left" title="The table is the uppermost, flat surface of a diamond which runs parallel to the plane of the girdle.">
                                table
                                <div class="filter-block filter1 filter-drop-drop">
                                    <div class="wrapper-filter-drop">
                                        <div id="w-slider-table"></div>
                                        <div class="clearfix">
                                            <input type="text" id="table1" class="input-slider-p pull-left w-input-table-from">
                                            <input type="text" id="table2" class="input-slider-p pull-right w-input-table-to">
                                        </div>

                                    </div>
                                </div>
                            </li>
                            <li data-toggle="tooltip" data-placement="left" title="Fluorescence refers to a diamond's tendency to emit a soft colored glow when subjected to ultraviolet light (such as a `black light`).">
                                Fluorescence
                                <div class="btn-group btn-group-justified btn-group-filter filter-drop-drop w-group-fluorescence-intensities" data-toggle="buttons">
                                    <div class="btn btn-filter">
                                        <input type="checkbox" name="fluorescence_intensities" value="Very Strong"> Very strong
                                    </div>
                                    <div class="btn btn-filter">
                                        <input type="checkbox" name="fluorescence_intensities" value="Strong"> Strong
                                    </div>
                                    <div class="btn btn-filter">
                                        <input type="checkbox" name="fluorescence_intensities" value="Slight"> Slight
                                    </div>
                                    <div class="btn btn-filter">
                                        <input type="checkbox" name="fluorescence_intensities" value="Medium"> Medium
                                    </div>
                                    <div class="btn btn-filter">
                                        <input type="checkbox" name="fluorescence_intensities" value="Faint"> Faint
                                    </div>
                                    <div class="btn btn-filter">
                                        <input type="checkbox" name="fluorescence_intensities" value="Very Slight"> Very slight
                                    </div>
                                    <div class="btn btn-filter">
                                        <input type="checkbox" name="fluorescence_intensities" value="None"> None
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <button class="filter-default-result w-clear-filtr-product">Clear filter</button>
            <button class="filter-change"><span>Hide filter’s block</span></button>
            <button class="apply-btn"><i class="fa fa-angle-right" aria-hidden="true"></i>Apply Filter</button>
        </div>
    </div>
</div>

<?=$popap?>





<script type="text/javascript">


    $(document).ready(function () {



        $('body').on('click', function (e) {
            //did not click a popover toggle, or icon in popover toggle, or popover
            if ($(e.target).data('toggle') !== 'popover'
                    && $(e.target).parents('[data-toggle="popover"]').length === 0
                    && $(e.target).parents('.popover.in').length === 0) {
                $('[data-toggle="popover"]').popover('hide');

            }
        });

        // Enables popover #2
        $("#help-cut").popover({
            html : true,
            trigger: 'click',
            placement : 'top',
            container: 'body',
            content: $("#popower-cut").html()
        }).on("mouseenter", function () {
            var _this = this;
            $(this).popover("show");
            $(".popover").on("mouseleave", function () {
                $(_this).popover('hide');
            });
        }).on("mouseleave", function () {
            var _this = this;
            setTimeout(function () {
                if (!$(".popover:hover").length) {
                    $(_this).popover("hide");
                }
            }, 300);
        });

        $("#help-color").popover({
            html : true,
            trigger: 'manual',
            placement : 'top',
            container: 'body',
            content: $("#popower-color").html()
        }).on("mouseenter", function () {
            var _this = this;
            $(this).popover("show");
            $(".popover").on("mouseleave", function () {
                $(_this).popover('hide');
            });
        }).on("mouseleave", function () {
            var _this = this;
            setTimeout(function () {
                if (!$(".popover:hover").length) {
                    $(_this).popover("hide");
                }
            }, 300);
        });

        $("#help-clarity").popover({
            html : true,
            trigger: 'click',
            placement : 'top',
            container: 'body',
            content: $("#popower-clarity").html()
        }).on("mouseenter", function () {
            var _this = this;
            $(this).popover("show");
            $(".popover").on("mouseleave", function () {
                $(_this).popover('hide');
            });
        }).on("mouseleave", function () {
            var _this = this;
            setTimeout(function () {
                if (!$(".popover:hover").length) {
                    $(_this).popover("hide");
                }
            }, 300);
        });

        var $action =  "<?=$action?>";
        var $url_color='';
        var $url_shape='';
        var $url_clarity='';
        var $url_cut='';
        var $url_carat='';
        var $url_price='';

        var $url_polish='';
        var $url_symmetry = '';
        var $url_labs = '';
        var $url_depth = '';
        var $url_table = '';
        var $url_fluorescence_intensities = '';

        //sorte
        var $url_show ='';
        var $url_sortby ='';
        var $url_page = '';


        var queryStr = parseQueryString(window.location.search);

        //get url color

        if (queryStr['shape'] != undefined) {
            $url_shape = '&shape='+queryStr['shape'];
            $('.w-group-shape input').each(function (element) {
                if (this.value == queryStr['shape']) {
                    $(this).parent().addClass('active');
                }
            });
        }



        if (queryStr['fluorescence_intensities'] != undefined) {
            $url_fluorescence_intensities = '&fluorescence_intensities='+queryStr['fluorescence_intensities'];
            $('.w-group-fluorescence-intensities input').each(function (element) {

                var $input_this = this;

                $.each(queryStr['fluorescence_intensities'].split(','), function( key, value ) {

                    if ($input_this.value == value) {
                        $($input_this).parent().addClass('active');
                    }
                });
            });
        }


        if (queryStr['labs'] != undefined) {
            $url_labs = '&labs='+queryStr['labs'];
            $('.w-group-labs input').each(function (element) {

                var $input_this = this;

                $.each(queryStr['labs'].split(','), function( key, value ) {

                    if ($input_this.value == value) {
                        $($input_this).parent().addClass('active');
                    }
                });
            });
        }



        //sort
//
        if (queryStr['show'] != undefined) {
            $url_show = '&show='+queryStr['show'];
            $('#w-product-show :contains('+queryStr["show"]+')').attr("selected", "selected");
        }


        if (queryStr['sortby'] != undefined) {
            $url_sortby = '&sortby='+queryStr['sortby'];
            $('#w-product-sortby :contains('+queryStr["sortby"]+')').attr("selected", "selected");
        }





        if (queryStr['color'] != undefined) {
            $get_color_from = queryStr['color'].split(',')[0];
            $get_color_to = queryStr['color'].split(',')[1];
            $url_color = '&color='+queryStr['color'].split(',')[0]+','+queryStr['color'].split(',')[1];
        } else {
            $get_color_from = 0;
            $get_color_to = 10;
        }


        if (queryStr['clarity'] != undefined) {
            $get_clarity_from = queryStr['clarity'].split(',')[0];
            $get_clarity_to = queryStr['clarity'].split(',')[1];
            $url_clarity = '&clarity='+queryStr['clarity'].split(',')[0]+','+queryStr['clarity'].split(',')[1];
        } else {
            $get_clarity_from = 0;
            $get_clarity_to = 8;
        }

        if (queryStr['cut'] != undefined) {
            $get_cut_from = queryStr['cut'].split(',')[0];
            $get_cut_to = queryStr['cut'].split(',')[1];
            $url_cut = '&cut='+queryStr['cut'].split(',')[0]+','+queryStr['cut'].split(',')[1];
        } else {
            $get_cut_from = 0;
            $get_cut_to = 4;
        }


        if (queryStr['carat'] != undefined) {
            $get_carat_from = queryStr['carat'].split(',')[0];
            $get_carat_to = queryStr['carat'].split(',')[1];
            $url_carat = '&carat='+queryStr['carat'].split(',')[0]+','+queryStr['carat'].split(',')[1];
        } else {
            $get_carat_from = 0.25;
            $get_carat_to = 15;
        }

        if (queryStr['price'] != undefined) {
            $get_price_from = queryStr['price'].split(',')[0];
            $get_price_to = queryStr['price'].split(',')[1];
            $url_price = '&price='+queryStr['price'].split(',')[0]+','+queryStr['price'].split(',')[1];
        } else {
            $get_price_from = 200;
            $get_price_to = 990000;
        }


        if (queryStr['polish'] != undefined) {
            $get_polish_from = queryStr['polish'].split(',')[0];
            $get_polish_to = queryStr['polish'].split(',')[1];
            $url_polish = '&polish='+queryStr['polish'].split(',')[0]+','+queryStr['polish'].split(',')[1];
        } else {
            $get_polish_from = 0;
            $get_polish_to = 4;
        }


        if (queryStr['symmetry'] != undefined) {
            $get_symmetry_from = queryStr['symmetry'].split(',')[0];
            $get_symmetry_to = queryStr['symmetry'].split(',')[1];
            $url_symmetry = '&symmetry='+queryStr['symmetry'].split(',')[0]+','+queryStr['symmetry'].split(',')[1];
        } else {
            $get_symmetry_from = 0;
            $get_symmetry_to = 4;
        }


        if (queryStr['depth'] != undefined) {
            $get_depth_from = queryStr['depth'].split(',')[0];
            $get_depth_to = queryStr['depth'].split(',')[1];
            $url_depth = '&depth='+queryStr['depth'].split(',')[0]+','+queryStr['depth'].split(',')[1];
        } else {
            $get_depth_from = 45;
            $get_depth_to = 80;
        }


        if (queryStr['table'] != undefined) {
            $get_table_from = queryStr['table'].split(',')[0];
            $get_table_to = queryStr['table'].split(',')[1];
            $url_table = '&table='+queryStr['table'].split(',')[0]+','+queryStr['table'].split(',')[1];
        } else {
            $get_table_from = 50;
            $get_table_to = 83;
        }


        if (queryStr['page'] != undefined) {
            $url_page = '&page='+queryStr['page'];
        }



        function generate_url () {

            return $action+'<?php echo $seo?>'+$url_shape+$url_color+$url_clarity+$url_cut+$url_carat+$url_price+
                    $url_polish+$url_symmetry+$url_labs+$url_depth+$url_table+
                    $url_fluorescence_intensities+$url_show+$url_sortby+$url_page;

        }


        $(document).on('change', '.w-group-shape input', function(){

            $url_shape = '&shape='+$(this).val();
            redirect = generate_url();
            history.pushState('', '', redirect);

            ajaxdata(redirect);

        });


        $(document).on('change', '.w-group-labs input', function(){

            if ($(this).prop("checked")){
                $(this).closest('li').addClass('change');
            } else {
                $(this).closest('li').removeClass('change');
            }

            var $labs_cecout = [];
            $('.w-group-labs input:checked').each(function (element) {
                $labs_cecout.push(this.value);

                if ($(this).prop("checked")){
                    $(this).closest('li').addClass('change');
                }
            });


            $url_labs = '&labs='+$labs_cecout.join(',');
            redirect = generate_url();
            history.pushState('', '', redirect);
            ajaxdata(redirect);

        });



        $(document).on('change', '.w-group-fluorescence-intensities input', function(){


            if ($(this).prop("checked")){
                $(this).closest('li').addClass('change');
            } else {
                $(this).closest('li').removeClass('change');
            }

            var $fluorescence_intensities_cecout = [];
            $('.w-group-fluorescence-intensities input:checked').each(function (element) {
                $fluorescence_intensities_cecout.push(this.value);

                if ($(this).prop("checked")){
                    $(this).closest('li').addClass('change');
                }

            });

            $url_fluorescence_intensities = '&fluorescence_intensities='+$fluorescence_intensities_cecout.join(',');
            redirect = generate_url();
            history.pushState('', '', redirect);

            ajaxdata(redirect);

        });



        //sort event

        $(document).on('change', '#w-product-show', function(){
            $('.container-loader').show();
            $url_show = '&show='+this.value;
            redirect = generate_url();
            history.pushState('', '', redirect);

            ajaxdata(redirect);
        });


        $(document).on('change', '#w-product-sortby', function(){

            $url_sortby = '&sortby='+this.value;
            redirect = generate_url();
            history.pushState('', '', redirect);

            ajaxdata(redirect);
        });




        var $w_slider_color = $('#w-slider-color').slider({
            min: 0,
            max: 10,
            range: true,
            animate: 'slow',
            values: [$get_color_from, $get_color_to],
            slide: function( event, ui ) {
                if (ui.values[0] >= ui.values[1]) {
                    return false;
                }
                if (ui.values[1] <= ui.values[0]) {
                    return false;
                }
            },
            change: function( event, ui ) {

                $url_color = '&color='+ui.values[0]+','+ui.values[1];
                redirect =  generate_url();
                history.pushState('', '', redirect);

                ajaxdata(redirect);

            }
        });



        var $w_slider_clarity = $('#w-slider-clarity').slider({
            min: 0,
            max: 8,
            range: true,
            animate: 'slow',
            values: [$get_clarity_from, $get_clarity_to],
            slide: function( event, ui ) {
                if (ui.values[0] >= ui.values[1]) {
                    return false;
                }
                if (ui.values[1] <= ui.values[0]) {
                    return false;
                }
            },
            change: function( event, ui ) {

                $url_clarity = '&clarity='+ui.values[0]+','+ui.values[1];
                redirect =  generate_url();
                history.pushState('', '', redirect);

                ajaxdata(redirect);
            }
        });



        var $w_slider_cut = $('#w-slider-cut').slider({
            min: 0,
            max: 4,
            range: true,
            animate: 'slow',
            values: [$get_cut_from, $get_cut_to],
            slide: function( event, ui ) {
                if (ui.values[0] >= ui.values[1]) {
                    return false;
                }
                if (ui.values[1] <= ui.values[0]) {
                    return false;
                }
            },
            change: function( event, ui ) {

                $url_cut = '&cut='+ui.values[0]+','+ui.values[1];
                redirect =  generate_url();
                history.pushState('', '', redirect);

                ajaxdata(redirect);
            }
        });


        $('.w-input-carat-from').val($get_carat_from);
        $('.w-input-carat-to').val($get_carat_to);


        var $w_slider_carat = $('#w-slider-carat').slider({
            min: 0.25,
            max: 15,
            range: true,
            step: 0.01,
            animate: 'slow',
            values: [$get_carat_from, $get_carat_to],
            slide: function( event, ui ) {

                $('.w-input-carat-from').val(Math.easeIn(ui.values[0], 0.25, 15, 3.6).toFixed(2));
                $('.w-input-carat-to').val(Math.easeIn(ui.values[1], 0.25, 15, 3.6).toFixed(2));

            },
            change: function( event, ui ) {

                $url_carat = '&carat='+$('.w-input-carat-from').val()+','+$('.w-input-carat-to').val();
                redirect =  generate_url();
                history.pushState('', '', redirect);

                ajaxdata(redirect);
            }
        });




        $('.w-input-carat-from').on('change', function(){
            $w_slider_carat.slider("values", 0, $(this).val());
        });

        $('.w-input-carat-to').on('change', function(){
            $w_slider_carat.slider("values", 1, $(this).val());
        });


        $('.w-input-price-from').val(numeral($get_price_from).format('$0,0'));
        $('.w-input-price-to').val(numeral($get_price_to).format('$0,0'));

        var w_slider_price_from;
        var w_slider_price_to;

        var $w_slider_price = $('#w-slider-price').slider({
            min: 200,
            max: 990000,
            range: true,
            step: 10,
            animate: 'slow',
            values: [$get_price_from, $get_price_to],
            slide: function( event, ui ) {
                w_slider_price_from = Math.round(Math.easeIn(ui.values[0], 200, 990000, 6.9));
                w_slider_price_to = Math.round(Math.easeIn(ui.values[1],  200, 990000, 6.9));
                console.log(w_slider_price_from);
                console.log(w_slider_price_to);
                $('.w-input-price-from').val(numeral(w_slider_price_from).format('$0,0'));
                $('.w-input-price-to').val(numeral(w_slider_price_to).format('$0,0'));
            },
            change: function( event, ui ) {

                $url_price = '&price='+numeral().unformat($('.w-input-price-from').val())+','+numeral().unformat($('.w-input-price-to').val());
                redirect =  generate_url();
                history.pushState('', '', redirect);

                ajaxdata(redirect);
            }
        });


        $('.w-input-price-from').on('change', function(){
            $w_slider_price.slider("values", 0, numeral().unformat($(this).val()));
        });

        $('.w-input-price-to').on('change', function(){
            $w_slider_price.slider("values", 1, numeral().unformat($(this).val()));
        });

        $('.w-input-price-to, .w-input-price-from').inputmask("numeric", {
            radixPoint: ".",
            groupSeparator: ",",
            digits: 2,
            autoGroup: true,
            prefix: '$', //No Space, this will truncate the first character
            rightAlign: false,
            oncleared: function () { self.Value(''); }
        });

        //advendset


        var $w_slider_polish = $('#w-slider-polish').slider({
            min: 0,
            max: 4,
            range: true,
            animate: 'slow',
            values: [$get_polish_from, $get_polish_to],
            slide: function( event, ui ) {
                if (ui.values[0] >= ui.values[1]) {
                    return false;
                }
                if (ui.values[1] <= ui.values[0]) {
                    return false;
                }

                if (Number(ui.values[0])!= 0 || Number(ui.values[1])!= 4){
                    $("[data-target=polish-slider]").addClass('change');
                } else {
                    $("[data-target=polish-slider]").removeClass('change');
                }

            },
            change: function( event, ui ) {

                $url_polish = '&polish='+ui.values[0]+','+ui.values[1];
                redirect =  generate_url();
                history.pushState('', '', redirect);

                ajaxdata(redirect);
            }
        });



        var $w_slider_symmetry = $('#w-slider-symmetry').slider({
            min: 0,
            max: 4,
            range: true,
            animate: 'slow',
            values: [$get_symmetry_from, $get_symmetry_to],
            slide: function( event, ui ) {

                if (Number(ui.values[0])!=0||Number(ui.values[1])!=4){
                    $("[data-target=symmetry-slider]").addClass('change');
                } else {
                    $("[data-target=symmetry-slider]").removeClass('change');
                }

                if (ui.values[0] >= ui.values[1]) {
                    return false;
                }
                if (ui.values[1] <= ui.values[0]) {
                    return false;
                }
            },
            change: function( event, ui ) {

                $url_symmetry = '&symmetry='+ui.values[0]+','+ui.values[1];
                redirect =  generate_url();
                history.pushState('', '', redirect);

                ajaxdata(redirect);
            }
        });




        $('.w-input-depth-from').val($get_depth_from);
        $('.w-input-depth-to').val($get_depth_to);

        var $w_slider_depth = $('#w-slider-depth').slider({
            min: 45,
            max: 80,
            range: true,
            animate: 'slow',
            values: [$get_depth_from, $get_depth_to],
            slide: function( event, ui ) {

                if (Number(ui.values[0])!=0||Number(ui.values[1])!=4){
                    $("[data-target=depth-slider]").addClass('change');
                } else {
                    $("[data-target=depth-slider]").removeClass('change');
                }

                $('.w-input-depth-from').val(ui.values[0]);
                $('.w-input-depth-to').val(ui.values[1]);
            },
            change: function( event, ui ) {

                $url_depth = '&depth='+ui.values[0]+','+ui.values[1];
                redirect =  generate_url();
                history.pushState('', '', redirect);

                ajaxdata(redirect);
            }
        });


        $('.w-input-depth-from').on('change', function(){
            $w_slider_depth.slider("values", 0, $(this).val());
        });

        $('.w-input-depth-to').on('change', function(){
            $w_slider_depth.slider("values", 1, $(this).val());
        });






        $('.w-input-table-from').val($get_table_from);
        $('.w-input-table-to').val($get_table_to);

        var $w_slider_table = $('#w-slider-table').slider({
            min: 50,
            max: 83,
            range: true,
            animate: 'slow',
            values: [$get_table_from, $get_table_to],
            slide: function( event, ui ) {

                if (Number(ui.values[0])!=0||Number(ui.values[1])!=4){
                    $("[data-target=table-slider]").addClass('change');
                } else {
                    $("[data-target=table-slider]").removeClass('change');
                }

                $('.w-input-table-from').val(ui.values[0]);
                $('.w-input-table-to').val(ui.values[1]);
            },
            change: function( event, ui ) {

                $url_table = '&table='+ui.values[0]+','+ui.values[1];
                redirect =  generate_url();
                history.pushState('', '', redirect);

                ajaxdata(redirect);
            }
        });


        $('.w-input-table-from').on('change', function(){
            $w_slider_table.slider("values", 0, $(this).val());
        });

        $('.w-input-table-to').on('change', function(){
            $w_slider_table.slider("values", 1, $(this).val());
        });




        $(document).on('click', '.w-pagination-diamonts .pagination li a', function(){

            //alert($(this).href());

            var $gets = parseQueryString ($(this).attr("href"));
            console.log($gets);
            $url_page = '&page='+$gets['page'];
            redirect = generate_url();
            history.pushState('', '', redirect);

            ajaxdata (this.href);
            return false;

        });

        //alert(location.href);
        ajaxdata(location.href);


        function ajaxdata (redirect) {

            $.ajax({
                type: "GET",
                dataType: "HTML",
                url: '/index.php?route=module/rapnet/getjson',
                data: redirect,
                beforeSend: function() {
                    $('.container-loader').show();
                },
                complete: function() {

                    $('.container-loader').hide();
                },
                success: function (response) {

//                    $('#w-show-product').empty();
//                    $('#w-show-product').html(response);

                    $('.w-category-ajax').empty();
                    $('.w-category-ajax').html(response);


                }

            });
        }





        //get parse url
        function parseQueryString (strQuery) {
            var i,
                    tmp     = [],
                    tmp2    = [],
                    objRes   = {};
            if (strQuery != '') {
                tmp = (strQuery.substr(1)).split('&');
                if (tmp.length == 1) {
                    tmp = strQuery.substr(1).split('?');
                }
                for (i = 0; i < tmp.length; i += 1) {
                    tmp2 = tmp[i].split('=');
                    if (tmp2[0]) {
                        objRes[tmp2[0]] = tmp2[1];
                    }
                }
            }
            return objRes;
        }




        $(document).on('click', '.w-product-diamonts', function(){

            $('.container-loader').show();

            history.pushState('', '', this.href);

            $.ajax({
                type: "GET",
                dataType: "HTML",
                url: '/index.php?route=module/rapnet/getproduct',
                data: 'diamond_id='+$(this).data('id'),
                success: function (response) {


                    $('.w-general-container').empty();
                    $('.w-general-container').html(response);
                    $('.container-loader').hide();

                }

            });
            $('html, body').animate({ scrollTop: 0 }, 'slow');
            return false;
        });



    });


</script>